<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
		<title>江苏酉铭</title>
		<link rel="icon" href="img/head.ico" type="image/x-icon"/>
		<link rel="stylesheet" href="css/m_index.css">
		<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
		<script type="text/javascript" src="js/jquery.easie.js"></script>
		<script type="text/javascript" src="js/jquery.mousewheel.min.js"></script>
		<script type="text/javascript" src="js/m_index.js"></script>
	</head>
	<body>
		<div class="container">
		    <div class="page page0 current">
		    	<div class="page_bag">
		    		<div class="bg_img_a">
		    			<img src="img/logo_name.png" style="width:40%;height:15%;margin:10% 30%;"/>
		    			<img src="img/logistics.png" style="width:80%;height:35%;margin:5% 10%;"/>
		    			<div style="width:30%;height:5%;border:1px solid white;color:white;border-radius:10px;margin-left:35%;text-align:center;" class="join">申请加入</div>
		    		</div>		    		
		    	</div>
		    </div>
		    <div class="page page1">
		    	<div class="page_bag">
		    		<div class="bg_img_b">
		    			<div style="width:100%;height:20%;">
		    				<img src="img/logo_name.png" style="width:15%;margin:5% 5%;float:left;"/>
		    			    <div style="float:right;margin-right:5%;width:20%;height:20px;border:1px solid white;margin-top:5%;text-align:center;border-radius:10px;color:white;line-height:20px;" class="join">申请加入</div>
		    			</div>
		    			
		    			<div style="width:80%;height:20%;margin-top:40%;color:white;font-size:40px;margin-left:10%;">客户端</div>
		    			<div style="width:80%;height:30px;font-size:25px;color:white;margin-left:10%;">运单管理</div>
		    			<div style="width:80%;height:30px;font-size:25px;color:white;margin-left:10%;">物流详情早知道</div>
		    		</div>
		    	</div>
		    </div>
		    <div class="page page2">
		    	<div class="page_bag">
		    		<div class="bg_img_c">
		    			<div style="width:100%;height:20%;">
		    				<img src="img/logo_name.png" style="width:15%;margin:5% 5%;float:left;"/>
		    			    <div style="float:right;margin-right:5%;width:20%;height:20px;border:1px solid white;margin-top:5%;text-align:center;border-radius:10px;color:white;line-height:20px;" class="join">申请加入</div>
		    			</div>
		    			<div style="width:80%;height:20%;margin-top:40%;color:white;font-size:40px;margin-left:10%;">微信端</div>
		    			<div style="width:80%;height:30px;font-size:25px;color:white;margin-left:10%;">寄件收件</div>
		    			<div style="width:80%;height:30px;font-size:25px;color:white;margin-left:10%;">方便安全</div>
		    		</div>
		    	</div>
		    </div>
		    <div class="page page3">
		    	<div class="page_bag">
		    		<div class="bg_img_d">
		    			<div style="width:100%;height:20%;">
		    				<img src="img/logo_name.png" style="width:15%;margin:5% 5%;float:left;"/>
		    			    <div style="float:right;margin-right:5%;width:20%;height:20px;border:1px solid white;margin-top:5%;text-align:center;border-radius:10px;color:white;line-height:20px;" class="join">申请加入</div>
		    			</div>
		    			<div style="width:80%;height:20%;margin-top:40%;color:white;font-size:40px;margin-left:10%;">手机App</div>
		    			<div style="width:80%;height:30px;font-size:25px;color:white;margin-left:10%;">司机接单</div>
		    			<div style="width:80%;height:30px;font-size:25px;color:white;margin-left:10%;">方便安全</div>
		    		</div>
		    	</div>
		    </div>
		    <div class="page page4">
		    	<div class="page_bag">
		    		<div class="bg_img_e">
		    			<img src="img/logo_name.png" style="width:40%;height:15%;margin:10% 30%;"/>
		    			<img src="img/text.png" style="width:80%;height:45%;margin:5% 10%;"/>
		    			<div style="width:30%;height:5%;border:1px solid white;color:white;border-radius:10px;margin-left:35%;text-align:center;" class="join">申请加入</div>
		    		</div>
		    	</div>
		    </div>
		    <!--<div class="page page5">
		    	<div class="page_bag">
		    		<div class="bg_img_f"></div>
		    	</div>
		    </div>-->
		</div>
		


 <script>
//var slider = {
//   //判断设备是否支持touch事件
//   touch:('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch,
//   slider:document.getElementById('slider'),
//
//  //事件
//   events:{
//       index:0,     //显示元素的索引
//       slider:this.slider,     //this为slider对象
//       icons:document.getElementById('icons'),
//      icon:this.icons.getElementsByTagName('span'),
//       handleEvent:function(event){
//           var self = this;     //this指events对象
//           if(event.type == 'touchstart'){
//           	alert(1)
//              self.start(event);
//          }else if(event.type == 'touchmove'){
//              self.move(event);
//            }else if(event.type == 'touchend'){
//              self.end(event);
//           }
//      },
//       //滑动开始
//       start:function(event){
//           var touch = event.targetTouches[0];     //touches数组对象获得屏幕上所有的touch，取第一个touch
//          startPos = {x:touch.pageX,y:touch.pageY,time:+new Date};    //取第一个touch的坐标值
//          isScrolling = 0;   //这个参数判断是垂直滚动还是水平滚动
//           this.slider.addEventListener('touchmove',this,false);
//          this.slider.addEventListener('touchend',this,false);
//       },
//      //移动
//      move:function(event){
//          //当屏幕有多个touch或者页面被缩放过，就不执行move操作
//           if(event.targetTouches.length > 1 || event.scale && event.scale !== 1) return;
//           var touch = event.targetTouches[0];
//           endPos = {x:touch.pageX - startPos.x,y:touch.pageY - startPos.y};
//          isScrolling = Math.abs(endPos.x) < Math.abs(endPos.y) ? 1:0;    //isScrolling为1时，表示纵向滑动，0为横向滑动
//          if(isScrolling === 0){
//              event.preventDefault();      //阻止触摸事件的默认行为，即阻止滚屏
//               this.slider.className = 'cnt';
//               this.slider.style.left = -this.index*600 + endPos.x + 'px';
//           }
//       },
//      //滑动释放
//       end:function(event){
//           var duration = +new Date - startPos.time;    //滑动的持续时间
//          if(isScrolling === 0){    //当为水平滚动时
//              this.icon[this.index].className = '';
//               if(Number(duration) > 10){     
//                   //判断是左移还是右移，当偏移量大于10时执行
//                  if(endPos.x > 10){
//                      if(this.index !== 0) this.index -= 1;
//                  }else if(endPos.x < -10){
//                      if(this.index !== this.icon.length-1) this.index += 1;
//                   }
//               }
//              this.icon[this.index].className = 'curr';
//              this.slider.className = 'cnt f-anim';
//              this.slider.style.left = -this.index*600 + 'px';
//          }
//          //解绑事件
//          this.slider.removeEventListener('touchmove',this,false);
//          this.slider.removeEventListener('touchend',this,false);
//      }
//   },
//   
//  //初始化
//   init:function(){
//      var self = this;     //this指slider对象
//      if(!!self.touch) self.slider.addEventListener('touchstart',self.events,false);    //addEventListener第二个参数可以传一个对象，会调用该对象的handleEvent属性
//   }
// };
$(document).ready(function(){
	        var ua = navigator.userAgent.toLowerCase();
            var isMobile = false;
            var browsers = ["android;", "android ", "android/", "ipod;", "ipad;", "iphone;", "iphone ", "iphone/"];
            for (var _b = browsers.length; _b--; ) {
                if (ua.indexOf(browsers[_b]) != -1) {
                    isMobile = true;
                    break;
                }
            }
            if(!isMobile){
            	window.location.href="index.html";
            }
            //禁用手机默认的触屏滚动行为
document.addEventListener('touchmove', function(event) {
    event.preventDefault();
}, false);
});


//  document.addEventListener("touchstart", function(e) {
//      startx = e.touches[0].pageX;
//      starty = e.touches[0].pageY;
//      alert(startx)
//  }, false);
    var startx, starty;
    //获得角度
    function getAngle(angx, angy) {
        return Math.atan2(angy, angx) * 180 / Math.PI;
    };
 
    //根据起点终点返回方向 1向上 2向下 3向左 4向右 0未滑动
    function getDirection(startx, starty, endx, endy) {
        var angx = endx - startx;
        var angy = endy - starty;
        var result = 0;
 
        //如果滑动距离太短
        if (Math.abs(angx) < 2 && Math.abs(angy) < 2) {
            return result;
        }
 
        var angle = getAngle(angx, angy);
        if (angle >= -135 && angle <= -45) {
            result = 1;
        } else if (angle > 45 && angle < 135) {
            result = 2;
        } else if ((angle >= 135 && angle <= 180) || (angle >= -180 && angle < -135)) {
            result = 3;
        } else if (angle >= -45 && angle <= 45) {
            result = 4;
        }
 
        return result;
    }
    //手指接触屏幕
    document.addEventListener("touchstart", function(e) {
        startx = e.touches[0].pageX;
        starty = e.touches[0].pageY;
    }, false);
    //手指离开屏幕

    var lock = true;//函数节流的锁  
        $(document).ready(function(){   
            var lock = true;//函数节流的锁  
            var nowPage=0;
    document.addEventListener("touchend", function(e) {
        var endx, endy;
        endx = e.changedTouches[0].pageX;
        endy = e.changedTouches[0].pageY;
        var direction = getDirection(startx, starty, endx, endy);
        switch (direction) {
            case 0:
//              alert("未滑动！");
                nowPage=0;
                break;
            case 1:
//              alert("向上！")
                nowPage++;
                break;
            case 2:
//              alert("向下！")+
                nowPage--;
                break;
            case 3:
//              alert("向左！")
//              nowPage=3;
                break;
            case 4:
//              alert("向右！")
//              nowPage=4;
                break;
            default:
        }
                if(lock){    
                if(nowPage<0){  
                    nowPage=0;  
                }  
//              alert(nowPage)
                if(nowPage>4){  
                    nowPage=4;  
                }     
                $(".container").animate({"top": nowPage * -100 +"%"});  
                $(".page").eq(nowPage).addClass("current").siblings().removeClass('current');  
                lock = false;  
                setTimeout(function(){  
                        lock = true;  
                    },500);  
                }  
    }, false);
         
        }); 
// slider.init();
 </script>
 </body>
 </html>
